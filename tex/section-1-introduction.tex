\section{Introduction}
The results of this paper arise from a fusion of two theories: stable quasimaps and relative stable maps. In this introductory section we briefly summarise these, providing the context for our work.

\subsection{Stable quasimaps}
The moduli space of \ilemph{stable toric quasimaps}
\begin{equation*} \Q{g}{n}{X}{\beta} \end{equation*}
was constructed by Ciocan-Fontanine and Kim \cite{CF-K} as an alternative compactification of the moduli space of smooth curves in a toric variety. It is a Deligne--Mumford stack of finite type, and is proper if $X$ is proper. Moreover, when $X$ is smooth it admits a perfect obstruction theory and hence a virtual fundamental class, which one can use to define curve-counting invariants for $X$, called \ilemph{quasimap invariants}.

This theory agrees with the theory of stable quotients \cite{MOP} when both are defined, namely when $X$ is a projective space.  There is a common generalisation given by the theory of stable quasimaps to GIT quotients \cite{CFKM}. However for simplicity we will work mostly in the toric setting (though this restriction is probably not essential for our arguments). Thus when we say ``quasimap'' we are implicitly talking about toric quasimaps.

The quasimap invariants are expected to coincide with the Gromov--Witten invariants when $X$ is a toric Fano variety \cite{CM}; this has been proven for $X=\PP^N$ \cite{MOP} \cite[\S 5.4]{Manolache-Push}, and more generally the case of a very Fano complete intersection in projective space can be derived from the work of Givental on the mirror theorem \cite[Theorem 0.1]{Givental-mirror} and that of Ciocan-Fontanine and Kim on wall-crossing for $\epsilon$-stable quasimaps \cite[Conjecture 7.2.10]{CF-K}\cite[\S 5.5 and Conjecture 6.3.1]{CF-K-wallcrossing}.

In general, however, the invariants differ, the difference being encoded by certain wall-crossing formulas \cite{CF-K-wallcrossing}. The motivation for this comes from mirror symmetry: the idea is that the quasimap invariants of $X$ should correspond to the $B$-side theory of $X$ (this is in contrast to the Gromov--Witten invariants, which live on the $A$-side); see \cite[\S 7]{CF-K}. \marginpar{Ask Tom or Richard} A key-point is that $\Q{g}{n+1}{X}{\beta}$ is \emph{not} the universal curve over $\Q{g}{n}{X}{\beta}$ (in general there is not even a morphism between the two), but the universal curve $\mathcal C_{g,n}^\mathcal{Q}$ is a substack of $\MM_{g,n+1}(X,\beta)$ and comparing the geometry of $\mathcal Q_{g,n+1}$ and $\mathcal C_{g,n}$ results in \emph{string transformations} that determine the difference between generating functions for $\epsilon_1$- and $\epsilon_2$-stable quasimaps \cite[\S 6 and 7]{CF-K-wallcrossing}.

\subsection{Relative stable maps}
In \cite{Ga} Gathmann consructs a moduli space of relative stable maps to the pair $(X,Y)$ as a closed substack of the moduli space of (absolute) stable maps to $X$:
\begin{equation*} \M{0}{\alpha}{X|Y}{\beta} \hookrightarrow \M{0}{n}{X}{\beta} \end{equation*}
Unfortunately this space does not admit a natural perfect obstruction theory. Nevertheless in the case where $Y$ is very ample it is still possible to construct a virtual fundamental class by intersection-theoretic methods, and hence one can define relative Gromov--Witten invariants.

Gathmann then proves a recursion formula which in particular allows one to recover the relative Gromov--Witten invariants from the absolute ones. This is  applied in \cite{Ga-MF} to obtain a quantum Lefschetz theorem for $Y \subseteq X$.

\subsection{Relative stable quasimaps}
In this paper we combine the two stories above, constructing moduli spaces of relative stable quasimaps in genus $0$. We prove a recursion relation similar to Gathmann's formula, and use this to derive a quantum Lefschetz formula for quasimap invariants.

The plan of the paper is as follows. In \S\S \ref{Subsection stable quasimaps}-\ref{Subsection relative stable maps} we provide a brief review of the theories of stable quasimaps and relative stable maps mentioned above. Then in \S \ref{Subsection relative stable quasimaps} we define the moduli spaces of relative stable quasimaps
\begin{equation*} \Q{g}{\alpha}{X|Y}{\beta} \end{equation*}
where $X$ is a smooth toric variety and $Y$ is a smooth hypersurface. We \emph{do not} require that $Y$ is toric.

In \S \ref{Section recursion for PN} we examine the special case of $H \subseteq \PP^N$. We find that, although the moduli space is not in general smooth, it is irreducible of the expected dimension (in fact, more than this: it is the closure of the so-called ``nice locus'' consisting of maps from a smooth curve which do not land inside the hypersurface). Thus it has an actual fundamental class which we can use to define relative quasimap invariants.

Also for $\PP^N$ there exists a comparison morphism from the moduli space of stable maps to the moduli space of quasimaps, which is birational. We use this morphism to push down Gathmann's recursion formula for relative stable maps to obtain a recursion formula for relative stable quasimaps. The stronger stability condition for quasimaps significantly simplifies the correction terms which appear.

In \S \ref{Section recursion formula in general case} we extend the recursion formula to arbitrary pairs $(X,Y)$ where $Y$ is very ample, by taking the embedding $X \hookrightarrow \PP^N$ defined by $\OO_X(Y)$ and pulling back the formula for $(\PP^N,H)$. This of course requires some comparison theorems for virtual classes, for which we have to examine the perfect obstruction theories.

In \S \ref{Section quasimap mirror theorem} we apply the recursion formula obtained in \S \ref{Section recursion formula in general case} to obtain a quantum Lefschetz theorem for quasimap invariants. This recovers Corollary 5.5.1 in \cite{CF-K-wallcrossing}.

We also include several appendices, collecting together results which are presumably well-known to experts, but for which we could not find references in the literature.

Appendix \S \ref{Section comparison morphism} discusses the comparison morphism from maps to quasimaps (used in the proof of the recursion relation in \S \ref{Section recursion for PN}).

Appendix \S \ref{Section quasimap theory} contains foundational lemmas of quasimap theory, including:
\begin{enumerate}
\item functoriality of quasimap spaces: for $f\colon Y\to X$ a toric morphism (that does not contract effective curve classes) we describe the induced map $\overline{\mathcal{Q}}(f)\colon\Q{g}{n}{Y}{\beta}\to\Q{g}{n}{X}{f_*\beta}$ (in standard stable maps theory, this is just composing a stable map with $f$, on the other hand in quasimap theory one must be slightly more ingenious to cook up line bundles and sections thereof, compatible with the interpretation as composition in the case that the quasimap has no base-points; this is based on the description of the functor of a smooth toric variety and its homogeneous coordinate ring by D.A. Cox \cite{CoxFunctor}\cite{CoxRing}). Furthermore, we discuss when $\overline{\mathcal{Q}}(f)$ admits a compatible perfect obstruction theory.
\item The splitting axiom: this compares two natural virtual classes on boundary strata (i.e. loci where the underlying curve is reducible of a prescribed type).
\item Comparison with the GIT construction \cite{CFKM} in the case that $Y$ is a (not necessarily toric) very ample hypersurface in a toric variety $X$.
\end{enumerate}

Finally Appendix \ref{appendix:intersection} discusses the (\emph{diagonal}) pull-back along a morphism whose target is unobstructed (used in \cite{Ga}) and verifies that it agrees with the virtual pull-back of \cite{Manolache-Pull} (when both are defined) and that it satisfies expected compatibility properties.


\begin{acknowledgements} The authors wish to thank Tom Coates, Cristina Manolache and Andrea Petracci for many helpful discussions. L.B. is supported by [REF] and N.N. is supported by [REF]
\end{acknowledgements}

\subsection{Table of notation} We will use the following notation, most of which is introduced in the main body of the paper.
\[
\begin{tabular}{ r c | c l }
$X$ & & & a smooth projective toric variety \\
$Y$ & & & a very ample hypersurface in $X$ \\
$\Sigma$ & & & the fan of $X$ \\
$\Sigma(1)$ & & & the set of $1$-dimensional cones of $\Sigma$ \\
$\rho$ & & & an element of $\Sigma(1)$ \\
$D_\rho$ & & & the toric divisor in $X$ corresponding to $\rho$ \\
$\M{g}{n}{X}{\beta}$ & & & the moduli space of stable maps \\
$\mathcal{M}_{0,\alpha}(X|Y,\beta)$ & & & the nice locus of relative stable maps \\
$\M{0}{n}{X|Y}{\beta}$ & & & the moduli space of relative stable maps (\S \ref{Subsection relative stable maps}) \\
$\MM_{g,n}$ & & & the moduli space of prestable curves \\
$\Q{g}{n}{X}{\beta}$ & & & the moduli space of stable toric quasimaps (\S \ref{Subsection stable quasimaps}) \\
$\mathcal{Q}_{0,\alpha}(X|Y,\beta)$ & & & the nice locus of relative quasimaps (\S \ref{Subsection basic properties of the moduli space}) \\
$\Q{0}{\alpha}{X|Y}{\beta}$ & & & the moduli space of relative stable quasimaps (\S \ref{Subsection relative stable quasimaps}) \\
$\om{Q}(f)$ & & & the push-forward morphism between quasimap moduli spaces (\S \ref{Functoriality of Quasimap Spaces Section}) \\
$\chi$ & & & the comparison morphism from stable maps to quasimaps (\S \ref{Section comparison morphism}) \\
$\mathcal{D}^{\mathcal{Q}}_{\alpha,k}(X|Y,\beta)$ & & & the quasimap comb locus (\S \ref{Subsection recursion formula for PN}) \\
$\mathcal{D}^{\mathcal{Q}}(X|Y,A,B,M)$ & & & a component of the quasimap comb locus (\S \ref{Subsection recursion formula for PN}) \\
$\mathcal{E}^{\mathcal{Q}}(X|Y,A,B,M)$ & & & the total product from which the virtual class of the quasimap comb locus is obtained (\S [REF]) \\
$\mathcal{D}^{\mathcal{Q}}(X,A,B)$ & & & the quasimap centipede locus (\S [REF])  \\
$\mathcal{E}^{\mathcal{Q}}(X,A,B)$ & & & the total product from which the virtual class of the quasimap centipede locus is obtained (\S [REF]) \\
$f^!$ & & & Gysin morphism when $f$ is an l.c.i. embedding \\
$f^!_{\text{v}}$ & & & virtual pull-back when $f$ is virtually smooth (\S [REF]) \\
$f^!_{\Delta}$ & & & diagonal virtual pull-back (\S [REF])
\end{tabular}
\]